<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Panel DarkShadow</title>
  <style>
    body { font-family: "Segoe UI", Tahoma, sans-serif; background: #f8fafc; display: flex; justify-content: center; padding-top: 100px; color: #0f172a;}
    .container { background: white; padding: 25px; border-radius: 12px; width: 100%; max-width: 400px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
    h2 { margin-top: 0; font-size: 20px; }
    input { width: 100%; padding: 12px; margin: 15px 0; border: 1px solid #cbd5e1; border-radius: 6px; box-sizing: border-box; font-size: 14px;}
    button { width: 100%; padding: 12px; background: #BE60EE; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 15px;}
    button:hover { background: #a851d5; }
    #status { margin-top: 15px; font-size: 14px; font-weight: 500; text-align: center;}
  </style>
</head>
<body>

  <div class="container">
    <h2>⚙️ Seting Link API DarkShadow</h2>
    <label>Masukkan Link Server Baru:</label>
    <input type="text" id="targetInput" placeholder="http://ekkstore.com:200">
    <button onclick="updateLink()">Simpan Perubahan</button>
    <div id="status"></div>
  </div>

  <script>
    // PENTING: Ganti dengan URL Firebase lu juga!
    // WAJIB tambahin "/server_config.json" di paling ujungnya!
    // Ganti yang lama dengan ini:
const firebaseUrl = 'https://ekkstore-f73d9-default-rtdb.asia-southeast1.firebasedatabase.app/server_config.json';

    async function updateLink() {
      const newUrl = document.getElementById('targetInput').value;
      const statusText = document.getElementById('status');

      if (!newUrl) {
        statusText.innerText = "Link nggak boleh kosong bro!";
        statusText.style.color = "red";
        return;
      }

      statusText.innerText = "⏳ Sedang menyimpan...";
      statusText.style.color = "#475569";

      try {
        const response = await fetch(firebaseUrl, {
          method: 'PUT', // Pake PUT biar me-replace (menimpa) data yang lama
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ targetUrl: newUrl })
        });

        if (response.ok) {
          statusText.innerText = "✅ Sukses! Link target API udah berubah instan.";
          statusText.style.color = "green";
        } else {
          statusText.innerText = "❌ Gagal menyimpan. Cek lagi URL Firebase-nya.";
          statusText.style.color = "red";
        }
      } catch (error) {
        statusText.innerText = "❌ Error: " + error.message;
        statusText.style.color = "red";
      }
    }
  </script>

</body>
</html>
